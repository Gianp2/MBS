<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="MBS Barber Studio - Experiencia VIP en cortes de cabello, barba y color en Las Parejas, Santa Fe. Reserva tu turno hoy.">
  <meta name="keywords" content="barbería, cortes de cabello, barba, color, Las Parejas, Santa Fe, MBS Barber Studio">
  <meta name="author" content="MBS Barber Studio">
  <meta property="og:title" content="MBS Barber Studio - Las Parejas, Santa Fe">
  <meta property="og:description" content="Experimenta un servicio VIP con cortes de cabello, barba y color de primer nivel.">
  <meta property="og:image" content="img/logomonkey.png">
  <meta property="og:url" content="https://www.mbsbarberstudio.com">
  <title>MBS Barber Studio</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    section {
      scroll-margin-top: 80px;
    }
    .gallery-item img {
      max-height: 320px;
      object-fit: cover;
      width: 100%;
    }
    .nav-link {
      position: relative;
      transition: all 0.3s ease;
    }
    .nav-link:hover {
      color: #facc15;
      transform: scale(1.05);
    }
    .nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -2px;
      left: 0;
      background-color: #facc15;
      transition: width 0.3s ease;
    }
    .nav-link:hover::after {
      width: 100%;
    }
    #mobile-menu {
      position: fixed;
      top: 0;
      right: 0;
      height: 100vh;
      width: 75%;
      max-width: 300px;
      background-color: rgba(31, 41, 55, 0.95);
      transition: transform 0.3s ease-in-out;
      transform: translateX(100%);
      box-shadow: -4px 0 10px rgba(0, 0, 0, 0.3);
      z-index: 50;
    }
    #mobile-menu.active {
      transform: translateX(0);
    }
    #mobile-menu a {
      display: block;
      padding: 0.75rem 1rem;
      font-size: 1.1rem;
      font-weight: 500;
      text-align: center;
      color: #e5e7eb;
      transition: background-color 0.2s ease, color 0.2s ease;
    }
    #mobile-menu a:hover {
      background-color: #4b5563;
      color: #facc15;
    }
    .floating-reserve-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 100;
      background-color: #facc15;
      color: #1f2937;
      padding: 12px 20px;
      border-radius: 50px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    .floating-reserve-button:hover {
      background-color: #eab308;
      transform: scale(1.05);
    }
    .floating-reserve-button img {
      width: 24px;
      height: 24px;
    }
    .nav-link.admin {
      background-color: #facc15;
      color: #1f2937;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-weight: 600;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }
    .nav-link.admin:hover {
      background-color: #eab308;
      color: #1f2937;
      transform: scale(1.05);
    }
    .nav-link.admin::after {
      display: none;
    }
    #mobile-menu a.nav-link.admin {
      margin: 0.5rem 1rem;
      border-radius: 8px;
    }
    .form-turno input, .form-turno select {
      @apply w-full p-3 border border-gray-600 rounded-lg bg-gray-900 text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-sm;
    }
    .form-turno option:disabled {
      color: #6b7280;
      background-color: #374151;
    }
    .form-turno label {
      @apply flex items-center gap-2;
    }
    .form-turno i {
      color: #facc15;
    }
    input[type="date"]::-webkit-calendar-picker-indicator {
      filter: invert(70%) sepia(50%) saturate(300%) hue-rotate(30deg) brightness(100%);
    }
    @media (max-width: 640px) {
      .form-turno {
        @apply max-w-xs p-6;
      }
      input, select {
        @apply text-sm p-3;
      }
      button[type="submit"] {
        @apply text-base py-2;
      }
    }
  </style>
</head>

<body class="font-['Open Sans'] bg-gradient-to-b from-gray-900 to-gray-800 text-gray-200">
  <header class="bg-gray-900 text-gray-200 sticky top-0 z-50 shadow-lg">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-4">
        <img src="img/logomonkey.png" alt="MBS Barber Studio Logo" class="h-14 w-auto">
        <h1 class="logo-text text-2xl md:text-3xl font-extrabold tracking-wide font-['Poppins']">
          MBS <span class="text-yellow-400 drop-shadow-glow">Barber</span> Studio
        </h1>
      </div>
      <nav class="hidden md:flex space-x-8" aria-label="Navegación principal">
        <a href="#inicio" class="nav-link font-medium font-['Poppins']">Inicio</a>
        <a href="#servicios" class="nav-link font-medium font-['Poppins']">Servicios</a>
        <a href="#turnos" class="nav-link font-medium font-['Poppins']">Reserva</a>
        <a href="#pagos" class="nav-link font-medium font-['Poppins']">Pagos</a>
        <a href="#contacto" class="nav-link font-medium font-['Poppins']">Contacto</a>
        <a href="https://docs.google.com/spreadsheets/d/1TMLSR-NOgXdZv25wFZh8cjTbYhzcEDxLOE8CjkdNPq0/edit?usp=sharing" target="_blank" rel="noopener" class="nav-link admin font-medium font-['Poppins']"><i class="fas fa-user-shield mr-2"></i>Admin</a>
      </nav>
      <button class="md:hidden menu-toggle" aria-label="Abrir menú móvil">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>
    
    <nav class="hidden md:hidden flex-col" id="mobile-menu" aria-label="Menú móvil">
      <a href="#inicio" class="nav-link font-['Poppins']">Inicio</a>
      <a href="#servicios" class="nav-link font-['Poppins']">Servicios</a>
      <a href="#turnos" class="nav-link font-['Poppins']">Reserva</a>
      <a href="#pagos" class="nav-link font-['Poppins']">Pagos</a>
      <a href="#contacto" class="nav-link font-['Poppins']">Contacto</a>
      <a href="https://docs.google.com/spreadsheets/d/1TMLSR-NOgXdZv25wFZh8cjTbYhzcEDxLOE8CjkdNPq0/edit?usp=sharing" target="_blank" rel="noopener" class="nav-link admin font-['Poppins']"><i class="fas fa-user-shield mr-2"></i>Admin</a>
    </nav>
  </header>

  <main>
    <section id="inicio" class="relative h-[700px] flex items-center justify-center text-center text-gray-200">
      <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('img/fotohero.jpg');"></div>
      <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"></div>
      <div class="relative z-10 px-6 md:px-12 max-w-4xl">
        <h2 class="text-4xl md:text-6xl font-bold mb-6 font-['Poppins'] leading-tight drop-shadow-lg">
          Bienvenidos a <span class="text-yellow-400">MBS Barber Studio</span>
        </h2>
        <p class="text-lg md:text-2xl mb-8 leading-relaxed drop-shadow-md">
          Experimenta un servicio VIP con cortes de cabello, barba y color de primer nivel en 
          <span class="font-semibold">Las Parejas, Santa Fe</span>.
        </p>
        <a href="#turnos" class="inline-block bg-yellow-400 text-gray-900 font-semibold py-4 px-10 rounded-full shadow-lg hover:bg-yellow-500 hover:shadow-xl transition-all duration-300 text-lg font-['Poppins']">
          Reservar Turno
        </a>
      </div>
    </section>

    <section id="nosotros" class="py-20 bg-gradient-to-b from-gray-800 to-gray-900">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-4xl font-bold mb-8 font-['Poppins'] text-gray-200">Sobre Nosotros</h2>
        <p class="text-lg mb-10 max-w-3xl mx-auto leading-relaxed text-gray-300">
          En MBS Barber Studio, combinamos pasión y profesionalismo para ofrecerte una experiencia única en barbería. 
          Nuestro equipo está comprometido con realzar tu estilo personal con cortes de cabello, arreglos de barba y coloración de alta calidad.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto">
          <div class="relative group">
            <img src="img/fotouli.jpg" alt="Nuestro equipo" class="w-full h-80 object-cover object-top rounded-lg shadow-lg transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 font-['Poppins']">Equipo Profesional</p>
          </div>
          <div class="relative group">
            <img src="img/local2.jpg" alt="Nuestro salón" class="w-full h-80 object-cover object-[center_30%] rounded-lg shadow-lg transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 font-['Poppins']">Ambiente Moderno</p>
          </div>
        </div>
      </div>
    </section>

    <section id="galeria" class="py-20 bg-gradient-to-b from-gray-900 to-gray-800">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-bold text-center mb-8 font-['Poppins'] text-gray-200">Galería</h2>
        <p class="text-center mb-10 text-lg text-gray-300">Explora nuestros trabajos destacados y síguenos en <a href="https://www.instagram.com/mbsbarberstudio/" target="_blank" rel="noopener" class="text-yellow-400 hover:underline">Instagram</a> para más inspiración.</p>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
          <div class="gallery-item relative group">
            <img src="img/corte.jpg" alt="Corte y barba" class="w-full h-80 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 text-center font-['Poppins']">Corte y Barba</p>
          </div>
          <div class="gallery-item relative group">
            <img src="img/corte2.jpg" alt="Coloración masculina" class="w-full h-80 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 text-center font-['Poppins']">Coloración Masculina</p>
          </div>
          <div class="gallery-item relative group">
            <img src="img/corte3.jpg" alt="Corte de cabello hombre" class="w-full h-80 object-cover object-top rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 text-center font-['Poppins']">Corte de Cabello</p>
          </div>
          <div class="gallery-item relative group">
            <img src="img/corte4.jpg" alt="Corte clásico" class="w-full h-80 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 text-center font-['Poppins']">Corte Clásico</p>
          </div>
          <div class="gallery-item relative group">
            <img src="img/corte5.jpg" alt="Corte clásico" class="w-full h-80 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 text-center font-['Poppins']">Corte Clásico</p>
          </div>
          <div class="gallery-item relative group">
            <img src="img/corte6.jpg" alt="Corte clásico" class="w-full h-80 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105" loading="lazy">
            <p class="mt-4 font-semibold text-lg text-gray-200 text-center font-['Poppins']">Corte Clásico</p>
          </div>
        </div>
      </div>
    </section>

    <section id="servicios" class="py-20 bg-gradient-to-b from-gray-800 to-gray-900">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-bold text-center mb-8 font-['Poppins']">Nuestros Servicios</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="service-item text-center p-8 bg-gray-800 rounded-lg shadow-md hover:shadow-xl transition-shadow">
            <i class="fas fa-scissors text-5xl text-yellow-400 mb-4"></i>
            <h3 class="text-2xl font-semibold mb-3 text-gray-200 font-['Poppins']">Corte Hombre</h3>
            <p class="text-gray-300">Corte personalizado con técnicas modernas.</p>
          </div>
          <div class="service-item text-center p-8 bg-gray-800 rounded-lg shadow-md hover:shadow-xl transition-shadow">
            <i class="fas fa-cut text-5xl text-yellow-400 mb-4"></i>
            <h3 class="text-2xl font-semibold mb-3 text-gray-200 font-['Poppins']">Corte + Barba</h3>
            <p class="text-gray-300">Combinación perfecta para un look completo.</p>
          </div>
          <div class="service-item text-center p-8 bg-gray-800 rounded-lg shadow-md hover:shadow-xl transition-shadow">
            <i class="fas fa-paint-brush text-5xl text-yellow-400 mb-4"></i>
            <h3 class="text-2xl font-semibold mb-3 text-gray-200 font-['Poppins']">Color</h3>
            <p class="text-gray-300">Coloración profesional para un estilo único.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="turnos" class="py-20 bg-gradient-to-b from-gray-800 to-gray-900">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-bold text-center mb-8 font-['Poppins'] text-gray-200">Reservar Turno</h2>
        <div id="form-turno" class="max-w-lg mx-auto p-8 bg-gray-800 rounded-lg shadow-md form-turno" aria-label="Formulario de reserva de turno">
          <form id="reserva-form" onsubmit="reservarTurno(event)">
            <div class="mb-6">
              <label for="nombre" class="block text-sm font-medium mb-2 text-gray-200 font-['Poppins']"><i class="fas fa-user"></i> Nombre:</label>
              <input type="text" id="nombre" name="nombre" required aria-required="true" placeholder="Tu nombre completo" class="w-full p-4 border border-gray-600 rounded-lg bg-gray-900 text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400">
            </div>
            <div class="mb-6">
              <label for="telefono" class="block text-sm font-medium mb-2 text-gray-200 font-['Poppins']"><i class="fas fa-phone"></i> Teléfono:</label>
              <input type="tel" id="telefono" name="telefono" required aria-required="true" pattern="[0-9]{10,}" title="Ingrese un número de teléfono válido" placeholder="Ej: 3471511010" class="w-full p-4 border border-gray-600 rounded-lg bg-gray-900 text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400">
            </div>
            <div class="mb-6">
              <label for="fecha" class="block text-sm font-medium mb-2 text-gray-200 font-['Poppins']"><i class="fas fa-calendar-alt"></i> Fecha:</label>
              <input type="date" id="fecha" name="fecha" required aria-required="true" class="w-full p-4 border border-gray-600 rounded-lg bg-gray-900 text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400">
            </div>
            <div class="mb-6">
              <label for="hora" class="block text-sm font-medium mb-2 text-gray-200 font-['Poppins']"><i class="fas fa-clock"></i> Hora:</label>
              <select id="hora" name="hora" required aria-required="true" class="w-full p-3 border border-gray-600 rounded-lg bg-gray-900 text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                <option value="" disabled selected>Selecciona una hora</option>
              </select>
            </div>
            <button type="submit" class="w-full bg-yellow-400 text-gray-900 font-semibold py-4 rounded-lg hover:bg-yellow-500 transition-colors text-lg font-['Poppins']">Reservar Turno</button>
          </form>
        </div>
      </div>
    </section>

    <section id="pagos" class="py-20 bg-gradient-to-b from-gray-900 to-gray-800">
      <div class="container mx-auto px-4 text-center">
        <div class="flex items-center justify-center mb-8">
          <h2 class="text-4xl font-bold font-['Poppins'] text-gray-200">Pagá con un clic</h2>
          <img src="img/logopago.png" alt="Logo de Pago" class="h-12 w-auto ml-4">
        </div>
        <p class="mb-6 text-lg text-gray-300">Alias: <strong id="alias-text">ulisesiglesias.mbs</strong></p>
        <button onclick="copiarAlias()" class="copy-button bg-yellow-400 text-gray-900 font-semibold py-3 px-6 rounded-lg hover:bg-yellow-500 transition-colors font-['Poppins']"><i class="fas fa-copy mr-2"></i> Copiar alias</button>
        <a href="https://link.mercadopago.com.ar/pasqui11" target="_blank" class="inline-block bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors font-['Poppins'] mt-4">
          <img src="img/logomp.png" alt="Mercado Pago" class="inline-block h-6 w-auto mr-2"> Pagar con Mercado Pago
        </a>
        <p class="mt-6 text-lg text-gray-300"><a href="https://wa.me/+5493471511010?text=Hola,+te+env%C3%ADo+el+comprobante+de+mi+turno" target="_blank" class="text-yellow-400 hover:underline"><i class="fab fa-whatsapp mr-2"></i> Enviar comprobante por WhatsApp</a></p>
      </div>
    </section>

    <section id="contacto" class="py-20 bg-gradient-to-b from-gray-800 to-gray-900">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-bold text-center mb-8 font-['Poppins'] text-gray-200">Contacto y Dirección</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="flex flex-col justify-center">
            <p class="mb-6 text-lg text-gray-300"><i class="fas fa-clock mr-3"></i> Horario: Martes a Sábados, 9:00-12:00 y 15:00-20:00</p>
            <p class="mb-6 text-lg text-gray-300"><i class="fas fa-phone mr-3"></i> Teléfono: <a href="https://wa.me/+5493471511010" target="_blank" rel="noopener" class="text-yellow-400 hover:underline">+54 9 3471 511010</a></p>
            <p class="mb-6 text-lg text-gray-300"><i class="fab fa-instagram mr-3"></i> Instagram: <a href="https://www.instagram.com/mbsbarberstudio/" target="_blank" rel="noopener" class="text-yellow-400 hover:underline">@mbsbarberstudio</a></p>
            <p class="mb-6 text-lg text-gray-300"><i class="fas fa-map-marker-alt mr-3"></i> Dirección: Calle 29 676, Las Parejas.</p>
          </div>
          <div class="map-container">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3353.123456789!2d-61.987654321!3d-32.682345678!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zQ2FsbGUgMjkgNjc2LCBMYXMgUGFyZWphcywgU2FudGEgRmUgMjUwNQ!5e0!3m2!1ses!2sar!4v1631234567890" width="100%" height="350" style="border:0; border-radius: 8px;" allowfullscreen="" loading="lazy" aria-label="Mapa de ubicación"></iframe>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-900 text-gray-200 py-12">
    <div class="container mx-auto px-4">
      <div class="text-center">
        <h3 class="text-2xl font-bold mb-6 font-['Poppins']">Conéctate con Nosotros</h3>
        <div class="flex justify-center space-x-6 mb-6">
          <a href="https://www.instagram.com/mbsbarberstudio/" target="_blank" rel="noopener" class="text-3xl hover:text-yellow-400 transition-colors"><i class="fab fa-instagram"></i></a>
          <a href="https://wa.me/+5493471511010" target="_blank" rel="noopener" class="text-3xl hover:text-yellow-400 transition-colors"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-10 pt-6 text-center">
        <p class="text-sm text-gray-300">&copy; 2025 MBS Barber Studio. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <a href="#turnos" class="floating-reserve-button" aria-label="Reservar Turno">
    <img src="img/logoreserva.png" alt="Ícono de reserva">
    <span class="font-['Poppins']">Reservar Turno</span>
  </a>

  <script>
    const API_URL = "https://sheetdb.io/api/v1/skasggl9p5fkd";

    function copiarAlias() {
      const alias = document.getElementById('alias-text').textContent;
      navigator.clipboard.writeText(alias).then(() => {
        const button = document.querySelector('.copy-button');
        button.innerHTML = '<i class="fas fa-check mr-2"></i> Copiado';
        setTimeout(() => {
          button.innerHTML = '<i class="fas fa-copy mr-2"></i> Copiar alias';
        }, 2000);
      }).catch(err => {
        console.error('Error al copiar alias:', err);
        Swal.fire({
          icon: 'error',
          title: 'Error',
          text: 'No se pudo copiar el alias. Inténtalo de nuevo.',
          confirmButtonColor: '#facc15'
        });
      });
    }

    function formatDate(dateStr) {
      if (!dateStr) return '';
      const [year, month, day] = dateStr.split('-');
      return `${day.padStart(2, '0')}/${month.padStart(2, '0')}/${year}`;
    }

    function parseDate(dateStr) {
      const [year, month, day] = dateStr.split('-').map(Number);
      return new Date(year, month - 1, day);
    }

    function formatTime(timeStr) {
      const [hours, minutes] = timeStr.includes('PM') || timeStr.includes('AM') 
        ? convertTo24Hour(timeStr) 
        : timeStr.split(':');
      return `${hours.padStart(2, '0')}:${minutes.padStart(2, '0')}`;
    }

    function convertTo24Hour(timeStr) {
      let [time, modifier] = timeStr.split(' ');
      let [hours, minutes] = time.split(':');
      hours = parseInt(hours);
      if (modifier === 'PM' && hours !== 12) hours += 12;
      if (modifier === 'AM' && hours === 12) hours = 0;
      return [`${hours}`, minutes];
    }

    function getNextWorkingDays(daysCount) {
      const today = new Date();
      const workingDays = [];
      let count = 0;
      let currentDay = new Date(today);
      while (count < daysCount) {
        currentDay.setDate(currentDay.getDate() + 1);
        const dayOfWeek = currentDay.getDay();
        if (dayOfWeek >= 2 && dayOfWeek <= 6) {
          workingDays.push(new Date(currentDay));
          count++;
        }
      }
      return workingDays;
    }

    function generateTimeSlots() {
      const slots = [];
      for (let hour = 9; hour <= 11; hour++) {
        slots.push(`${hour.toString().padStart(2, '0')}:00`);
        slots.push(`${hour.toString().padStart(2, '0')}:30`);
      }
      slots.push('12:00');
      for (let hour = 15; hour <= 19; hour++) {
        slots.push(`${hour.toString().padStart(2, '0')}:00`);
        slots.push(`${hour.toString().padStart(2, '0')}:30`);
      }
      slots.push('20:00');
      return slots;
    }

    async function updateTimeSlots() {
      const fechaInput = document.getElementById('fecha');
      const horaSelect = document.getElementById('hora');
      const selectedDate = fechaInput.value;
      horaSelect.innerHTML = '<option value="" disabled selected>Selecciona una hora</option>';

      if (!selectedDate) {
        horaSelect.disabled = true;
        return;
      }

      try {
        const res = await fetch(API_URL);
        const datos = await res.json();
        const timeSlots = generateTimeSlots();
        const formattedSelectedDate = formatDate(selectedDate);

        timeSlots.forEach(slot => {
          const isOccupied = datos.some(t => 
            formatDate(t.fecha) === formattedSelectedDate && formatTime(t.hora) === slot
          );
          if (!isOccupied) {
            const option = document.createElement('option');
            option.value = slot;
            option.textContent = `${slot} (Disponible)`;
            horaSelect.appendChild(option);
          }
        });
        horaSelect.disabled = false;
        if (horaSelect.options.length === 1) {
          horaSelect.innerHTML = '<option value="" disabled selected>No hay horarios disponibles</option>';
          horaSelect.disabled = true;
        }
      } catch (err) {
        console.error('Error cargando horarios:', err);
        Swal.fire({
          icon: 'error',
          title: 'Error',
          text: 'No se pudieron cargar los horarios disponibles. Inténtalo de nuevo.',
          confirmButtonColor: '#facc15'
        });
      }
    }

    async function reservarTurno(event) {
      event.preventDefault();
      const nombre = document.getElementById('nombre').value;
      const telefono = document.getElementById('telefono').value;
      const fecha = document.getElementById('fecha').value;
      const hora = document.getElementById('hora').value;

      if (!fecha || !hora) {
        Swal.fire({
          icon: 'warning',
          title: 'Faltan datos',
          text: 'Por favor, selecciona una fecha y hora válidas.',
          confirmButtonColor: '#facc15'
        });
        return;
      }

      try {
        const res = await fetch(API_URL);
        const datos = await res.json();
        const formattedDate = formatDate(fecha);
        const isOccupied = datos.some(t => 
          formatDate(t.fecha) === formattedDate && formatTime(t.hora) === hora
        );

        if (isOccupied) {
          Swal.fire({
            icon: 'warning',
            title: 'Horario ocupado',
            text: 'El turno seleccionado ya está ocupado. Por favor, elige otro horario.',
            confirmButtonColor: '#facc15'
          });
          return;
        }

        const response = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            nombre,
            telefono,
            fecha: formattedDate,
            hora
          })
        });

        if (response.ok) {
          Swal.fire({
            icon: 'success',
            title: 'Turno reservado',
            text: 'Tu turno ha sido reservado con éxito.',
            timer: 2000,
            showConfirmButton: false
          });
          document.getElementById('reserva-form').reset();
          document.getElementById('fecha').value = '';
          document.getElementById('hora').innerHTML = '<option value="" disabled selected>Selecciona una hora</option>';
          document.getElementById('hora').disabled = true;
        } else {
          throw new Error('Error al reservar');
        }
      } catch (err) {
        console.error('Error reservando turno:', err);
        Swal.fire({
          icon: 'error',
          title: 'Error',
          text: 'No se pudo reservar el turno. Inténtalo de nuevo.',
          confirmButtonColor: '#facc15'
        });
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const fechaInput = document.getElementById('fecha');
      const horaSelect = document.getElementById('hora');
      const today = new Date();
      const minDate = new Date(today);
      minDate.setDate(today.getDate() + 1);
      const maxDate = new Date(today);
      maxDate.setDate(today.getDate() + 30);

      fechaInput.min = minDate.toISOString().split('T')[0];
      fechaInput.max = maxDate.toISOString().split('T')[0];

      fechaInput.addEventListener('change', (e) => {
        const selectedDate = parseDate(e.target.value);
        const dayOfWeek = selectedDate.getDay();
        if (dayOfWeek === 0 || dayOfWeek === 1) {
          Swal.fire({
            icon: 'warning',
            title: 'Día no laborable',
            text: 'Solo se pueden reservar turnos de martes a sábado.',
            confirmButtonColor: '#facc15'
          });
          e.target.value = '';
          horaSelect.disabled = true;
          horaSelect.innerHTML = '<option value="" disabled selected>Selecciona una hora</option>';
          return;
        }
        updateTimeSlots();
      });

      horaSelect.disabled = true;
    });

    const menuToggle = document.querySelector('.menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      mobileMenu.classList.toggle('active');
      menuToggle.innerHTML = mobileMenu.classList.contains('hidden') ? '<i class="fas fa-bars text-2xl"></i>' : '<i class="fas fa-times text-2xl"></i>';
    });

    document.querySelectorAll('#mobile-menu a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
        mobileMenu.classList.remove('active');
        menuToggle.innerHTML = '<i class="fas fa-bars text-2xl"></i>';
      });
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        const headerHeight = document.querySelector('header').offsetHeight;
        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;

        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth'
        });
      });
    });
  </script>
</body>
</html>
